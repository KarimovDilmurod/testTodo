{"ast":null,"code":"var _jsxFileName = \"/Users/umidbek/Project/Todo-app/todo/src/components/Formik.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { StyleSheet, css } from \"aphrodite\";\nimport { collection, serverTimestamp, addDoc } from 'firebase/firestore';\nimport { db, storage } from \"../firebase\";\nimport { ref, getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Formik = () => {\n  _s();\n  const [value, setValue] = useState('');\n  const [area, setArea] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [startDate, setStartDate] = useState(new Date().toLocaleString());\n  const [endDate, setEndDate] = useState(new Date().toLocaleString());\n  const [loading, setLoading] = useState(false);\n  const [progresspercent, setProgresspercent] = useState(0);\n  console.log(progresspercent);\n  const hendleSubmit = async e => {\n    e.preventDefault();\n    let fileUrl;\n    let name = (Math.random() + 1).toString(36).substring(7);\n    const storageRef = ref(storage, `files/${name}`);\n    const uploadTask = uploadBytesResumable(storageRef, selectedFile);\n    await uploadTask.on(\"state_changed\", snapshot => {\n      const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      setProgresspercent(progress);\n      setLoading(true);\n    }, error => {\n      alert(error);\n    }, () => {\n      getDownloadURL(uploadTask.snapshot.ref).then(async downloadURL => {\n        fileUrl = downloadURL;\n        await addDoc(collection(db, 'todos'), {\n          title: value,\n          completed: false,\n          timestamp: serverTimestamp(),\n          description: area,\n          file: fileUrl,\n          startAt: startDate,\n          endAt: endDate\n        });\n        setValue('');\n        setArea('');\n        setSelectedFile(null);\n        setLoading(false);\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: hendleSubmit,\n    className: css(styles.container),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: css(styles.inputContent),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: css(styles.input),\n        value: value,\n        onChange: e => setValue(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        className: css(styles.fileContent),\n        onChange: e => setSelectedFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        className: css(styles.areaContent),\n        value: area,\n        onChange: e => setArea(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css(styles.inputContent),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css(styles.dateContener),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: css(styles.button),\n        children: \"addTodo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n};\n_s(Formik, \"0z8beWLpOYy6ktAtUTWDKcho5FY=\");\n_c = Formik;\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    background: '#ECF0F1',\n    borderRadius: '0.5rem',\n    padding: '0.7rem',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  input: {\n    height: '2rem',\n    marginBottom: '1rem',\n    width: '100%',\n    borderRadius: '0.3rem',\n    fontSize: '1.2em'\n  },\n  button: {\n    height: '2rem',\n    borderRadius: '0.4rem',\n    fontSize: '0.7em',\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    width: '100%',\n    marginTop: '0.5rem'\n  },\n  fileContent: {\n    display: 'flex',\n    height: '2rem',\n    marginRight: '0.4rem',\n    marginBottom: '1rem',\n    borderRadius: '0.3rem',\n    fontSize: '0.8em',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputContent: {\n    display: 'flex',\n    padding: '0.5rem',\n    textAlign: 'center',\n    width: '25rem',\n    flexDirection: 'column'\n  },\n  areaContent: {\n    display: 'flex',\n    height: '4rem',\n    width: '100%',\n    justifyContent: 'flex-start'\n  },\n  buttonContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%'\n  },\n  dateContener: {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'space-between',\n    flexDirection: 'row'\n  }\n});\nvar _c;\n$RefreshReg$(_c, \"Formik\");","map":{"version":3,"names":["React","useState","StyleSheet","css","collection","serverTimestamp","addDoc","db","storage","ref","getDownloadURL","uploadBytesResumable","Formik","value","setValue","area","setArea","selectedFile","setSelectedFile","startDate","setStartDate","Date","toLocaleString","endDate","setEndDate","loading","setLoading","progresspercent","setProgresspercent","console","log","hendleSubmit","e","preventDefault","fileUrl","name","Math","random","toString","substring","storageRef","uploadTask","on","snapshot","progress","round","bytesTransferred","totalBytes","error","alert","then","downloadURL","title","completed","timestamp","description","file","startAt","endAt","styles","container","inputContent","input","target","fileContent","files","areaContent","dateContener","button","create","display","background","borderRadius","padding","justifyContent","alignItems","flexDirection","height","marginBottom","width","fontSize","fontWeight","cursor","marginTop","marginRight","textAlign","buttonContent"],"sources":["/Users/umidbek/Project/Todo-app/todo/src/components/Formik.jsx"],"sourcesContent":["import React,{useState} from \"react\";\nimport { StyleSheet,css } from \"aphrodite\";\nimport {collection, serverTimestamp, addDoc} from 'firebase/firestore'\nimport { db, storage } from \"../firebase\";\nimport { ref, getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\n\n\nexport const Formik = () => {\n    \n    const [value,setValue] = useState('')\n    const [area,setArea] = useState('')\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [startDate, setStartDate] = useState(new Date().toLocaleString())\n    const [endDate, setEndDate] = useState(new Date().toLocaleString());\n    const [loading,setLoading] = useState(false)\n    \n    const [progresspercent, setProgresspercent] = useState(0);\n\n    console.log(progresspercent);\n    \n\n    const hendleSubmit = async (e) => {\n      e.preventDefault()\n        let fileUrl\n        let name = (Math.random() + 1).toString(36).substring(7);\n        const storageRef = ref(storage, `files/${name}`);\n        const uploadTask = uploadBytesResumable(storageRef, selectedFile);\n        await uploadTask.on(\"state_changed\",\n        (snapshot) => {\n          const progress =\n          Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n          setProgresspercent(progress);\n          setLoading(true)\n        },\n        (error) => {\n        alert(error);\n        },\n        () => {\n          getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n            fileUrl = downloadURL\n            await addDoc(collection(db,'todos'),{\n            title: value,\n            completed: false,\n            timestamp: serverTimestamp(),\n            description: area,\n            file: fileUrl,\n            startAt: startDate,\n            endAt: endDate\n          })\n          setValue('')\n          setArea('')\n          setSelectedFile(null)\n          setLoading(false)\n          });\n        }\n      ); \n    } \n\n    return(\n      <form onSubmit={hendleSubmit }  className={css(styles.container)}>\n        <div className={css(styles.inputContent)}>\n          <input \n            type=\"text\" \n            className={css(styles.input)} \n            value={value} onChange={(e)=> setValue(e.target.value)} \n          />\n\n          <input \n            type=\"file\" \n            className={css(styles.fileContent)}\n            onChange={(e) => setSelectedFile(e.target.files[0])}\n          />\n\n          <textarea \n            type=\"text\" \n            className={css(styles.areaContent)} \n            value={area}\n            onChange={e=> setArea(e.target.value)}\n          />\n        </div>\n\n        <div className={css(styles.inputContent)}>\n          <div className={css(styles.dateContener)}>\n            <input type=\"date\" onChange={(e)=> setStartDate(e.target.value)}  />\n\n            <input type=\"date\" onChange={(e)=> setEndDate(e.target.value)} />\n          </div>          \n            {loading \n              ? \n              <h1>Loading...</h1> \n              :  \n              <button type=\"submit\" className={css(styles.button)} >addTodo</button>} \n          </div>\n      </form>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        display: 'flex',\n        background:'#ECF0F1',\n        borderRadius: '0.5rem',\n        padding: '0.7rem',\n        justifyContent:'space-between',\n        alignItems: 'center',\n        flexDirection:'column',\n    },\n    input: {\n        height: '2rem',\n        marginBottom: '1rem',\n        width: '100%',\n        borderRadius: '0.3rem',\n        fontSize: '1.2em'\n    },\n    button: {\n        height: '2rem',\n        borderRadius: '0.4rem',\n        fontSize: '0.7em',\n        fontWeight:'bold',\n        cursor: 'pointer',\n        width: '100%',\n        marginTop:'0.5rem'\n    },\n    fileContent: {\n        display:'flex',\n        height: '2rem',\n        marginRight: '0.4rem',\n        marginBottom: '1rem',\n        borderRadius: '0.3rem',\n        fontSize: '0.8em',\n        width: '100%',\n        justifyContent:'center',\n        alignItems:'center'\n\n    },\n    inputContent: {\n      display:'flex',\n      padding:'0.5rem',\n      textAlign:'center',\n      width: '25rem',\n      flexDirection:'column'\n      \n    },\n    areaContent: {\n      display:'flex',\n      height:'4rem',\n      width: '100%',\n      justifyContent:'flex-start'\n    },\n    buttonContent: {\n      display:'flex',\n      flexDirection: 'column',\n      width:'100%',\n    },\n    dateContener: {\n      display:'flex',\n      width:'100%',\n      justifyContent:'space-between',\n      flexDirection:'row'\n    }\n})"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AACpC,SAASC,UAAU,EAACC,GAAG,QAAQ,WAAW;AAC1C,SAAQC,UAAU,EAAEC,eAAe,EAAEC,MAAM,QAAO,oBAAoB;AACtE,SAASC,EAAE,EAAEC,OAAO,QAAQ,aAAa;AACzC,SAASC,GAAG,EAAEC,cAAc,EAAEC,oBAAoB,QAAQ,kBAAkB;AAAC;AAG7E,OAAO,MAAMC,MAAM,GAAG,MAAM;EAAA;EAExB,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACrC,MAAM,CAACc,IAAI,EAACC,OAAO,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,IAAIoB,IAAI,EAAE,CAACC,cAAc,EAAE,CAAC;EACvE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,IAAIoB,IAAI,EAAE,CAACC,cAAc,EAAE,CAAC;EACnE,MAAM,CAACG,OAAO,EAACC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAE5C,MAAM,CAAC0B,eAAe,EAAEC,kBAAkB,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EAEzD4B,OAAO,CAACC,GAAG,CAACH,eAAe,CAAC;EAG5B,MAAMI,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,EAAE;IAChB,IAAIC,OAAO;IACX,IAAIC,IAAI,GAAG,CAACC,IAAI,CAACC,MAAM,EAAE,GAAG,CAAC,EAAEC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC;IACxD,MAAMC,UAAU,GAAG/B,GAAG,CAACD,OAAO,EAAG,SAAQ2B,IAAK,EAAC,CAAC;IAChD,MAAMM,UAAU,GAAG9B,oBAAoB,CAAC6B,UAAU,EAAEvB,YAAY,CAAC;IACjE,MAAMwB,UAAU,CAACC,EAAE,CAAC,eAAe,EAClCC,QAAQ,IAAK;MACZ,MAAMC,QAAQ,GACdR,IAAI,CAACS,KAAK,CAAEF,QAAQ,CAACG,gBAAgB,GAAGH,QAAQ,CAACI,UAAU,GAAI,GAAG,CAAC;MACnEnB,kBAAkB,CAACgB,QAAQ,CAAC;MAC5BlB,UAAU,CAAC,IAAI,CAAC;IAClB,CAAC,EACAsB,KAAK,IAAK;MACXC,KAAK,CAACD,KAAK,CAAC;IACZ,CAAC,EACD,MAAM;MACJtC,cAAc,CAAC+B,UAAU,CAACE,QAAQ,CAAClC,GAAG,CAAC,CAACyC,IAAI,CAAC,MAAOC,WAAW,IAAK;QAClEjB,OAAO,GAAGiB,WAAW;QACrB,MAAM7C,MAAM,CAACF,UAAU,CAACG,EAAE,EAAC,OAAO,CAAC,EAAC;UACpC6C,KAAK,EAAEvC,KAAK;UACZwC,SAAS,EAAE,KAAK;UAChBC,SAAS,EAAEjD,eAAe,EAAE;UAC5BkD,WAAW,EAAExC,IAAI;UACjByC,IAAI,EAAEtB,OAAO;UACbuB,OAAO,EAAEtC,SAAS;UAClBuC,KAAK,EAAEnC;QACT,CAAC,CAAC;QACFT,QAAQ,CAAC,EAAE,CAAC;QACZE,OAAO,CAAC,EAAE,CAAC;QACXE,eAAe,CAAC,IAAI,CAAC;QACrBQ,UAAU,CAAC,KAAK,CAAC;MACjB,CAAC,CAAC;IACJ,CAAC,CACF;EACH,CAAC;EAED,oBACE;IAAM,QAAQ,EAAEK,YAAc;IAAE,SAAS,EAAE5B,GAAG,CAACwD,MAAM,CAACC,SAAS,CAAE;IAAA,wBAC/D;MAAK,SAAS,EAAEzD,GAAG,CAACwD,MAAM,CAACE,YAAY,CAAE;MAAA,wBACvC;QACE,IAAI,EAAC,MAAM;QACX,SAAS,EAAE1D,GAAG,CAACwD,MAAM,CAACG,KAAK,CAAE;QAC7B,KAAK,EAAEjD,KAAM;QAAC,QAAQ,EAAGmB,CAAC,IAAIlB,QAAQ,CAACkB,CAAC,CAAC+B,MAAM,CAAClD,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QACvD,eAEF;QACE,IAAI,EAAC,MAAM;QACX,SAAS,EAAEV,GAAG,CAACwD,MAAM,CAACK,WAAW,CAAE;QACnC,QAAQ,EAAGhC,CAAC,IAAKd,eAAe,CAACc,CAAC,CAAC+B,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QACpD,eAEF;QACE,IAAI,EAAC,MAAM;QACX,SAAS,EAAE9D,GAAG,CAACwD,MAAM,CAACO,WAAW,CAAE;QACnC,KAAK,EAAEnD,IAAK;QACZ,QAAQ,EAAEiB,CAAC,IAAGhB,OAAO,CAACgB,CAAC,CAAC+B,MAAM,CAAClD,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QACtC;IAAA;MAAA;MAAA;MAAA;IAAA,QACE,eAEN;MAAK,SAAS,EAAEV,GAAG,CAACwD,MAAM,CAACE,YAAY,CAAE;MAAA,wBACvC;QAAK,SAAS,EAAE1D,GAAG,CAACwD,MAAM,CAACQ,YAAY,CAAE;QAAA,wBACvC;UAAO,IAAI,EAAC,MAAM;UAAC,QAAQ,EAAGnC,CAAC,IAAIZ,YAAY,CAACY,CAAC,CAAC+B,MAAM,CAAClD,KAAK;QAAE;UAAA;UAAA;UAAA;QAAA,QAAI,eAEpE;UAAO,IAAI,EAAC,MAAM;UAAC,QAAQ,EAAGmB,CAAC,IAAIR,UAAU,CAACQ,CAAC,CAAC+B,MAAM,CAAClD,KAAK;QAAE;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC7D,EACHY,OAAO,gBAEN;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAmB,gBAEnB;QAAQ,IAAI,EAAC,QAAQ;QAAC,SAAS,EAAEtB,GAAG,CAACwD,MAAM,CAACS,MAAM,CAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAkB;IAAA;MAAA;MAAA;MAAA;IAAA,QACpE;EAAA;IAAA;IAAA;IAAA;EAAA,QACH;AAEb,CAAC;AAAA,GAxFYxD,MAAM;AAAA,KAANA,MAAM;AA0FnB,MAAM+C,MAAM,GAAGzD,UAAU,CAACmE,MAAM,CAAC;EAC7BT,SAAS,EAAE;IACPU,OAAO,EAAE,MAAM;IACfC,UAAU,EAAC,SAAS;IACpBC,YAAY,EAAE,QAAQ;IACtBC,OAAO,EAAE,QAAQ;IACjBC,cAAc,EAAC,eAAe;IAC9BC,UAAU,EAAE,QAAQ;IACpBC,aAAa,EAAC;EAClB,CAAC;EACDd,KAAK,EAAE;IACHe,MAAM,EAAE,MAAM;IACdC,YAAY,EAAE,MAAM;IACpBC,KAAK,EAAE,MAAM;IACbP,YAAY,EAAE,QAAQ;IACtBQ,QAAQ,EAAE;EACd,CAAC;EACDZ,MAAM,EAAE;IACJS,MAAM,EAAE,MAAM;IACdL,YAAY,EAAE,QAAQ;IACtBQ,QAAQ,EAAE,OAAO;IACjBC,UAAU,EAAC,MAAM;IACjBC,MAAM,EAAE,SAAS;IACjBH,KAAK,EAAE,MAAM;IACbI,SAAS,EAAC;EACd,CAAC;EACDnB,WAAW,EAAE;IACTM,OAAO,EAAC,MAAM;IACdO,MAAM,EAAE,MAAM;IACdO,WAAW,EAAE,QAAQ;IACrBN,YAAY,EAAE,MAAM;IACpBN,YAAY,EAAE,QAAQ;IACtBQ,QAAQ,EAAE,OAAO;IACjBD,KAAK,EAAE,MAAM;IACbL,cAAc,EAAC,QAAQ;IACvBC,UAAU,EAAC;EAEf,CAAC;EACDd,YAAY,EAAE;IACZS,OAAO,EAAC,MAAM;IACdG,OAAO,EAAC,QAAQ;IAChBY,SAAS,EAAC,QAAQ;IAClBN,KAAK,EAAE,OAAO;IACdH,aAAa,EAAC;EAEhB,CAAC;EACDV,WAAW,EAAE;IACXI,OAAO,EAAC,MAAM;IACdO,MAAM,EAAC,MAAM;IACbE,KAAK,EAAE,MAAM;IACbL,cAAc,EAAC;EACjB,CAAC;EACDY,aAAa,EAAE;IACbhB,OAAO,EAAC,MAAM;IACdM,aAAa,EAAE,QAAQ;IACvBG,KAAK,EAAC;EACR,CAAC;EACDZ,YAAY,EAAE;IACZG,OAAO,EAAC,MAAM;IACdS,KAAK,EAAC,MAAM;IACZL,cAAc,EAAC,eAAe;IAC9BE,aAAa,EAAC;EAChB;AACJ,CAAC,CAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}